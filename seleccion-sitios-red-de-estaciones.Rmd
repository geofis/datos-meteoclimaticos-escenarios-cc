---
title: "Selección de sitios para el establecimiento de una red de estaciones meteoclimáticas en República Dominicana usando decisión multicriterio"
author: "José Martínez<br>Michela Izzo"
output:
  # bookdown::github_document2:
  #   number_sections: false
  #   fig_caption: yes
  bookdown::html_document2:
    number_sections: false
    code_folding: hide
    fig_caption: yes
    md_extensions: "-fancy_lists"
editor_options: 
  chunk_output_type: console
always_allow_html: true
references: ref/biblio.bib
bibliography: ref/biblio.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  cache = F, 
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  out.width = '100%',
  res = 200)
# options(digits = 3)
options(knitr.duplicate.label = "allow")
```

`r if(knitr::opts_knit$get("rmarkdown.pandoc.to") == 'gfm-yaml_metadata_block') 'Versión HTML (más legible e interactiva), [aquí](https://geofis.github.io/datos-meteoclimaticos-escenarios-cc/seleccion-sitios-red-de-estaciones.html)'`

`r if(knitr::opts_knit$get("rmarkdown.pandoc.to") == 'latex') 'Versión HTML (quizá más legible), [aquí](https://geofis.github.io/datos-meteoclimaticos-escenarios-cc/seleccion-sitios-red-de-estaciones.html)'`

```{r, echo=F, include=F}
incluir_supl_al_final <- T
cargar_script_supl_met <- T
if(cargar_script_supl_met) {
  raiz_supl_met <- 'seleccion-sitios-red-de-estaciones-suplemento-metodologico'
  knitr::purl(paste0(raiz_supl_met, '.Rmd'))
  source(paste0(raiz_supl_met, '.R'))
}
```

## Introducción

Las estaciones meteorológicas y climáticas son imprescindibles recopilación de datos precisos y actualizados sobre el clima y las condiciones atmosféricas en una determinada región. Los datos producidos por las estaciones son utilizados por diversas disciplinas, desde la meteorología a la climatología, pasando por múltiples aplicaciones de la ingeniería, la producción agraria, el urbanismo y la geografía, entre otros campos [@world1996guia; @wmo2017guia; @wmo2017guide].

Una buena red es esencial para la toma de decisiones informadas en una variedad de campos y es fundamental para el bienestar y la seguridad de las comunidades y del medio ambiente en general. Planificar una red adecuada de estaciones meteorológicas y climáticas (EMC) es fundamental para la gestión del territorio. Estudios previos, incluyendo en la República Dominicana, indican la falta de EMC en áreas importantes, una distribución espacial no uniforme y una precisión variable debido a sitios inadecuados [@theochari2021hydrometeorological; @rojasbriceno2021; @frei2003designing; @proyecto2019pma].

La mayor parte de los países han evaluado, algunos incluso varias veces, el diseño de su red de estaciones, y han propuesto mejoras que en muchos casos han implementado satisfactoriamente [@frei2003]. También, varios países disponen de protocolos para la selección de sitios, los cuales comúnmente se han armonizado con estándares de la OMM o los amplían para adaptarlos a las particularidades de su territorio y a los usos previstos [@rojasbriceno2021; @theochari2021].

La República Dominicana es altamente vulnerable a los impactos del cambio climático y una red insuficiente de estaciones meteorológicas exacerba esta vulnerabilidad. Es necesario mejorar y expandir la red de estaciones meteorológicas, lo que requiere inversión en tecnología e infraestructura, así como alianzas entre agencias gubernamentales, entidades privadas e instituciones de investigación [CITAS]. Sin embargo, para realizar inversiones que optimicen al máximo los escasos recursos disponibles, se requiere producir, evaluar y seleccionar alternativas de redes de EMC utilizando criterios debidamente ponderados.

Varias investigaciones consultadas, concernientes al diseño de redes de estaciones climáticas, meteorológicas e hidrometeorológicas, coinciden en señalar que la metodología idónea para el diseño de redes de estaciones debería incluir una análisis multicriterio (MCA), y su extensión para la toma de decisiones (MCDM, siglas en inglés de *"toma de decisiones basada en multicriterio"*). Esta familia de métodos se basa en la colecta y análisis, mediante sistemas de información geográfica (SIG), de atributos de terreno integrados por grandes volúmenes de datos geoespaciales del territorio a instrumentar, pero al mismo tiempo incluyendo criterios específicos del público meta también espacializados en el territorio [@rojasbriceno2021; @theochari2021hydrometeorological; @tekleyohannes2021]. Aunque, varias investigaciones han mostrado el buen rendimiento que aportan determinadas técnicas geoestadísticas tradicionales [@ali2018; @valipour2019], así como algoritmos contemporáneos de *deep learning* en combinación con técnicas tradicionales [@safavi2021], o incluso la entropía [@bertini2021], los métodos MCA son preferidos por su facilidad de uso y porque ayudan a comprender mejor los atributos de terreno.

El denominado "proceso analítico jerárquico", mejor conocido como AHP (*analytic hierarchy process*), es un método de selección de alternativas multicriterio que se fundamenta en la teoría general de los MCA, así como en la base de conocimientos de la jerarquía analítica. Fue desarrollado por Thomas Saaty en la década de 1970 [@saaty1977], con varias revisiones posteriores [@saaty2001; @saaty2007], y se utiliza para tomar decisiones cuando se deben considerar múltiples criterios y alternativas. Tradicionalmente, el método AHP se ha utilizado en investigaciones del ámbito de las ingenierías, ciencias sociales, económicas y empresariales, e igualmente en la toma de decisiones donde intervienen datos geoespaciales [@saaty2013; @darko2019; @podvezko2009; @subramanian2012; @breaz2017]. Recientemente, fue usado de forma eficiente en la selección de sitios idóneos para la instalación de estaciones meteoclimáticas en Perú [@rojasbriceno2021].

El método AHP consiste en descomponer un problema complejo en una estructura jerárquica de criterios y subcriterios, para luego comparar distintas alternativas en función de cada uno de dichos criterios. El proceso se realiza en varias etapas, que incluyen, identificar los objetivos y criterios relevantes para el problema, crear una estructura jerárquica de los criterios y subcriterios, comparar los criterios y subcriterios mediante una matriz de comparación en parejas (paso clave), calcular los valores de prioridad de cada criterio (paso clave), comparar las alternativas, calcular los valores de prioridad de cada alternativa en función de cada criterio y, finalmente, calcular los valores totales de prioridad de cada alternativa.

El método AHP es ampliamente utilizado en la toma de decisiones y en la planificación estratégica, ya que permite elegir entre varias opciones considerando valoraciones de criterios, y porque tiene en cuenta la importancia relativa de los criterios elegidos. Esta importancia relativa se asigna, normalmente, por medio de consultas hechas a personas con experiencia en el área de conocimiento donde se enmarque el problema en cuestión.

En este estudio, aplicamos AHP para seleccionar sitios idóneos donde instalar estaciones meteoclimáticas en República Dominicana, garantizando la eficiencia de la red, maximizando recursos y evitando redundancia información. Para ello, nos apoyamos tanto en fuentes de información geoespacial sistemáticamente producidas, como en consultas a personas con experiencia en temas climáticos y meteorológicos.

## Materiales y método

Aplicamos una secuencia de tres técnicas interdependientes para formular distintas alternativas de redes de observación meteoclimático. En primer lugar, aplicamos un **proceso analítico jerárquico (AHP)**, que se utiliza para seleccionar la mejor opción entre diferentes alternativas, utilizando criterios de selección ponderados por personas con conocimiento del problema [@saaty2013]. Las repuestas originales normalmente deben organizarse y recodificarse y, posteriormente, se debe evaluar su consistencia. A continuación, se seleccionan las respuestas consistentes, o se ajustan las inconsistentes, y se establece la ponderación de criterios. Finalmente, la ponderación definida, se aplica a las fuentes de información disponible para obtener una lista de alternativas, de entre las cuales, se selecciona la más idónea de acuerdo con los criterios definidos.

Tanto el diseño de los formularios, como el procesamiento de respuestas y la ponderación de criterios, los realizamos empleando lenguajes de programación. Para diseñar los formularios, empleamos paquetes y funciones de Python, mientras que para los análisis nos auxiliamos del paquete `ahpsurvey` y otros del entorno de programación estadística R, diseñado para tales fines [@cho2019ahpsurvey; @rcoreteam2021r; @whicham2019welcome]. Describimos estos pasos detalladamente en la sección [Información suplementaria](#infosupl).

Los resultados de la aplicación del método AHP fueron usados como entrada de una **simple aplicación de factores limitantes**, específicamente de localización de accesos y cuerpos de agua. Esto consistió en, simplemente, eliminar aquellos hexágonos que se encontraran dentro en la categoría "no idóneo" para los criterios "distancia a accesos" y "distancia a cuerpos de agua".

Finalmente, al resultado del análisis anterior, le aplicamos un **análisis de proximidad entre estaciones existentes y propuestas**, utilizando umbrales de separación propuestos por la Organización Meteorológica Mundial [@design1976hydrological; @wmo2020guide]. Esto tuvo como objetivo proponer alternativas que garantizaran homogeneidad en la distribución espacial de los sitios propuestos (más detalles en la sección [Información suplementaria](#infosupl)).

## Resultados

La importancia otorgada por expertos por medio del método AHP a los criterios preseleccionados, generó la tabla de pesos agregados. 


```{r}
kable_prefagg
```


























### Restricciones por accesibilidad y cuerpos de aguas



```{r}

```


### Aplicación de criterios de proximidad, meta final


## Información suplementaria {#infosupl}

```{r child = 'seleccion-sitios-red-de-estaciones-suplemento-metodologico.Rmd', eval=incluir_supl_al_final}
```


## Referencias
